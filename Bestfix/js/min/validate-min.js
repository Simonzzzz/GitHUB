!function($){function a(a){var e,n,t,r,s,i,m={error:!1,errors:[]},o,l,u,d,v=validPhone=validMail=!1;d=a.getElementsByTagName("input");for(var g=0;g<d.length;g++)"name"===d[g].getAttribute("name")?o=d[g]:"phone"===d[g].getAttribute("name")?l=d[g]:"mail_to"===d[g].getAttribute("name")&&(u=d[g]);e=/^[\d\- +\(\)]{4,20}$/,n=/^[a-zA-Zа-яА-Я_\- ]+$/,t=/^[0-9a-z_]+@[0-9a-z_^\.]+\.[a-z]{2,3}$/,r=l.value,s=o.value,i=u.value;var p={},h={},f={};return s?(v=n.test(s),v||(p.message="Имя указано не верно")):p.message='Необходимо заполнить поле "Имя".',r?(validPhone=e.test(r),validPhone||(h.message="Телефон указан не верно")):h.message='Необходимо заполнить поле "Телефон".',i?(validMail=t.test(i),validMail||(f.message="Почта указана не верно")):f.message='Необходимо заполнить поле "Почта".',validPhone||(h.name="phone",m.error=!0,m.errors.push(h)),v||(p.name="name",m.error=!0,m.errors.push(p)),validMail||(f.name="mail_to",m.error=!0,m.errors.push(f)),m}$("input[name=name], input[name=phone], input[name=mail_to]").on("keyup blur",function(a){var e=$(a.target),n=/^[a-zA-Zа-яА-Я_\- ]+$/,t=/^[\d\- +\(\)]{4,20}$/,r=/^[0-9a-z_]+@[0-9a-z_^\.]+\.[a-z]{2,3}$/,s=!1;return e.val()?("name"===e.attr("name")?s=n.test(e.val()):"phone"===e.attr("name")?s=t.test(e.val()):"mail_to"===e.attr("name")&&(s=r.test(e.val())),void(s?e.removeClass("warnings"):e.addClass("warnings"))):(e.addClass("warnings"),!1)}),$("form").on("click","[type=submit]",function(e){e.preventDefault();var n=$(e.target).parents("form"),t=n.find("input[name=phone]"),r=n.find("input[name=name]"),s=n.find("input[name=mail_to]"),i;i=a(n.get(0)),i.error===!0?$.each(i.errors,function(){"phone"===this.name&&t.addClass("warnings"),"name"===this.name&&r.addClass("warnings"),"mail_to"===this.name&&r.addClass("warnings")}):n.submit()})}(jQuery);